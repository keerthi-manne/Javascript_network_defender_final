<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Defender - AI Tower Defense</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/ai-tips.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h2>Network Defender</h2>
            <p>Loading AI Systems...</p>
            <div class="loading-bar">
                <div class="loading-progress" id="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="menu-screen hidden">
        <div class="particle-background" id="particle-bg"></div>
        <div class="menu-container">
            <h1 class="game-title">
                <span class="title-main">Network Defender</span>
                <span class="title-subtitle">AI Tower Defense</span>
            </h1>
            <div class="menu-buttons">
                <button class="menu-btn primary" id="btn-start">
                    <span class="btn-icon">‚ñ∂</span>
                    <span class="btn-text">Start Game</span>
                </button>
                <button class="menu-btn" id="btn-tutorial">
                    <span class="btn-icon">üìñ</span>
                    <span class="btn-text">Tutorial</span>
                </button>
                <button class="menu-btn" id="btn-endless">
                    <span class="btn-icon">‚àû</span>
                    <span class="btn-text">Endless Mode</span>
                </button>
                <button class="menu-btn" id="btn-settings">
                    <span class="btn-icon">‚öô</span>
                    <span class="btn-text">Settings</span>
                </button>
                <button class="menu-btn" id="btn-credits">
                    <span class="btn-icon">‚Ñπ</span>
                    <span class="btn-text">Credits</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Level Select -->
    <div id="level-select" class="menu-screen hidden">
        <div class="menu-container">
            <h2 class="screen-title">Select Level</h2>
            <div class="level-grid">
                <!-- Level cards will be generated by JavaScript -->
            </div>
            <div class="endless-modes">
                <h3>Endless Modes</h3>
                <div class="endless-grid">
                    <button class="endless-card" id="endless-classic">
                        <div class="endless-icon">üîÑ</div>
                        <div class="endless-name">Classic Endless</div>
                        <div class="endless-desc">Survive infinite waves of adaptive AI</div>
                    </button>
                    <button class="endless-card" id="endless-economic">
                        <div class="endless-icon">üí∞</div>
                        <div class="endless-name">Economic Warfare</div>
                        <div class="endless-desc">RL management with maintenance costs</div>
                    </button>
                    <button class="endless-card" id="endless-time">
                        <div class="endless-icon">‚è±</div>
                        <div class="endless-name">Time Attack</div>
                        <div class="endless-desc">Speedrun: Clear waves before time runs out</div>
                    </button>
                </div>
            </div>
            <button class="back-btn" id="btn-back-menu">‚Üê Back to Menu</button>
        </div>
    </div>

    <!-- Credits -->
    <div id="credits-screen" class="menu-screen hidden">
        <div class="menu-container">
            <h2 class="screen-title">Credits</h2>
            <div class="credits-content">
                <div class="credits-section">
                    <h3>Network Defender</h3>
                    <p>AI-Powered Tower Defense Game</p>
                    <p class="credits-version">Version 1.0</p>
                </div>
                <div class="credits-section">
                    <h3>Game Concepts</h3>
                    <ul>
                        <li>Defense in Depth</li>
                        <li>AI-Driven Adaptive Defense</li>
                        <li>Stackelberg Equilibrium</li>
                        <li>Economic Game Theory + RL</li>
                    </ul>
                </div>
                <div class="credits-section">
                    <h3>Technologies</h3>
                    <ul>
                        <li>HTML5 Canvas</li>
                        <li>JavaScript ES6+</li>
                        <li>Reinforcement Learning</li>
                        <li>Game Theory Algorithms</li>
                    </ul>
                </div>
                <div class="credits-section">
                    <h3>Special Thanks</h3>
                    <p>Built for educational purposes to teach network security concepts through interactive gameplay.
                    </p>
                </div>
            </div>
            <button class="back-btn" id="btn-back-credits">‚Üê Back to Menu</button>
        </div>
    </div>

    <!-- Settings -->
    <div id="settings-screen" class="menu-screen hidden">
        <div class="menu-container">
            <h2 class="screen-title">Settings</h2>
            <div class="settings-panel">
                <div class="settings-section">
                    <h3>Audio</h3>
                    <div class="setting-item">
                        <label>Master Volume</label>
                        <input type="range" id="volume-master" min="0" max="100" value="70">
                        <span id="volume-master-val">70%</span>
                    </div>
                    <div class="setting-item">
                        <label>Music Volume</label>
                        <input type="range" id="volume-music" min="0" max="100" value="50">
                        <span id="volume-music-val">50%</span>
                    </div>
                    <div class="setting-item">
                        <label>SFX Volume</label>
                        <input type="range" id="volume-sfx" min="0" max="100" value="70">
                        <span id="volume-sfx-val">70%</span>
                    </div>
                    <div class="setting-item">
                        <label>Mute All</label>
                        <input type="checkbox" id="mute-all">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Visual</h3>
                    <div class="setting-item">
                        <label>Particle Effects</label>
                        <input type="checkbox" id="particles-enabled" checked>
                    </div>
                    <div class="setting-item">
                        <label>Colorblind Mode</label>
                        <select id="colorblind-mode">
                            <option value="none">None</option>
                            <option value="deuteranopia">Deuteranopia</option>
                            <option value="protanopia">Protanopia</option>
                            <option value="tritanopia">Tritanopia</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>High Contrast</label>
                        <input type="checkbox" id="high-contrast">
                    </div>
                    <div class="setting-item">
                        <label>Reduce Motion</label>
                        <input type="checkbox" id="reduce-motion">
                    </div>
                </div>
                <div class="settings-section">
                    <h3>Gameplay</h3>
                    <div class="setting-item">
                        <label>Difficulty</label>
                        <select id="difficulty">
                            <option value="easy">Easy</option>
                            <option value="normal" selected>Normal</option>
                            <option value="hard">Hard</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Show Enemy Paths</label>
                        <select id="show-paths">
                            <option value="always">Always</option>
                            <option value="hover" selected>On Hover</option>
                            <option value="never">Never</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Tutorial Hints</label>
                        <input type="checkbox" id="tutorial-hints" checked>
                    </div>
                </div>
            </div>
            <button class="back-btn" id="btn-back-settings">‚Üê Back</button>
        </div>
    </div>

    <!-- Game Canvas -->
    <div id="game-container" class="hidden">
        <canvas id="game-canvas"></canvas>

        <!-- HUD Overlay -->
        <div id="hud-overlay">
            <!-- Top Bar -->
            <div class="hud-top">
                <div class="hud-info">
                    <span id="hud-level" class="hud-level">Level 1: Basic Defense</span>
                </div>
                <div class="hud-stats">
                    <div class="stat-item">
                        <span class="stat-icon">üí∞</span>
                        <span id="hud-money" class="stat-value">$900</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ù§Ô∏è</span>
                        <span id="hud-health" class="stat-value">100%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <span id="hud-wave" class="stat-value">Wave 1/10</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚≠ê</span>
                        <span id="hud-success" class="stat-value">0%</span>
                    </div>
                </div>
            </div>

            <!-- Left Sidebar - Enemy Preview -->
            <div class="hud-left">
                <div class="panel">
                    <h3>Incoming Wave</h3>
                    <div id="enemy-preview" class="enemy-preview">
                        <!-- Enemy preview will be populated by JS -->
                    </div>
                </div>
                <div class="panel">
                    <h3>Enemy Types</h3>
                    <div id="enemy-legend" class="enemy-legend">
                        <!-- Enemy legend will be populated by JS -->
                    </div>
                </div>
            </div>

            <!-- Right Sidebar - Tower Menu -->
            <div class="hud-right">
                <div class="panel">
                    <h3>Towers</h3>
                    <div id="tower-menu" class="tower-menu">
                        <!-- Tower buttons will be populated by JS -->
                    </div>
                    <div class="tower-stats">
                        <p>Placed: <span id="towers-placed">0</span>/<span id="towers-max">12</span></p>
                        <p>Maintenance: <span id="maintenance-cost">$0</span>/wave</p>
                    </div>
                </div>
            </div>

            <!-- Mini-map -->
            <div class="hud-minimap">
                <canvas id="minimap-canvas"></canvas>
            </div>

            <!-- Pause Menu Button -->
            <button class="pause-btn" id="btn-pause">‚è∏</button>
        </div>

        <!-- Popups and Dialogs -->
        <div id="dialog-overlay" class="dialog-overlay hidden">
            <div class="dialog-box">
                <h2 id="dialog-title">Paused</h2>
                <p id="dialog-message">Game is paused</p>
                <div id="dialog-buttons" class="dialog-buttons">
                    <button class="dialog-btn" id="btn-resume">Resume</button>
                    <button class="dialog-btn" id="btn-restart">Restart</button>
                    <button class="dialog-btn" id="btn-quit">Quit to Menu</button>
                </div>
            </div>
        </div>

        <!-- Tooltip -->
        <div id="tooltip" class="tooltip hidden">
            <h4 id="tooltip-title"></h4>
            <p id="tooltip-desc"></p>
            <div id="tooltip-stats"></div>
        </div>

        <!-- AI Tip -->
        <div id="ai-tip" class="ai-tip hidden"></div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/main.js?v=1.22"></script>
</body>

</html>